
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples/extraction/subset/station_section.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_examples_extraction_subset_station_section.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_extraction_subset_station_section.py:


Station Section
===============

The tutorial will go over the reading of a subset file by loading one that is
included in the directory. At the end we plot a station section of waveforms
using built-in plotting tools.

Loading all modules
-------------------

.. GENERATED FROM PYTHON SOURCE LINES 15-26

.. code-block:: default


    # External
    import matplotlib.pyplot as plt
    from obspy import read, read_inventory, Stream

    # Internal
    from gf3d.source import CMTSOLUTION
    from gf3d.seismograms import GFManager
    from gf3d.process import process_stream, select_pairs
    from gf3d.plot.section import plotsection








.. GENERATED FROM PYTHON SOURCE LINES 30-42

.. code-block:: default


    # CMTSOLUTION
    cmt = CMTSOLUTION.read('../../DATA/single_element_read/CMTSOLUTION')

    # Load subset
    gfsub = GFManager("../../DATA/single_element_read/single_element.h5")
    gfsub.load()

    # Load Observed Data
    raw = read("../../DATA/single_element_read/traces/*.sac")
    inv = read_inventory("../../DATA/single_element_read/station.xml")








.. GENERATED FROM PYTHON SOURCE LINES 43-47

.. code-block:: default


    rp = gfsub.get_seismograms(cmt)









.. GENERATED FROM PYTHON SOURCE LINES 48-52

.. code-block:: default


    obs = process_stream(raw, inv=inv, cmt=cmt, duration=3600)
    syn = process_stream(rp, cmt=cmt, duration=3600)








.. GENERATED FROM PYTHON SOURCE LINES 53-56

.. code-block:: default


    pobs, psyn = select_pairs(obs, syn)








.. GENERATED FROM PYTHON SOURCE LINES 57-66

.. code-block:: default


    starttime = psyn[0].stats.starttime + 0
    endtime = starttime + 3600
    limits = (starttime, endtime)

    # Plots a section of observed and synthetic
    plotsection(pobs, psyn, cmt, comp='Z', lw=0.75, limits=limits)

    plt.show()



.. image-sg:: /examples/extraction/subset/images/sphx_glr_station_section_001.svg
   :alt: Wed Sep 16 22:55:22 2015 Loc: -31.13dg, -72.09dg, 17.4km 
   :srcset: /examples/extraction/subset/images/sphx_glr_station_section_001.svg
   :class: sphx-glr-single-img






.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  3.578 seconds)


.. _sphx_glr_download_examples_extraction_subset_station_section.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example




    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: station_section.py <station_section.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: station_section.ipynb <station_section.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
